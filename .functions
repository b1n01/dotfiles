#!/bin/bash

# Define functions

# List all functions in this file
# see https://superuser.com/a/684256
c:list () {
	echo "Available functions:"
	print -l ${(k)functions} | grep --color=never "c:"
}

# Source custom .dotfiles
c:source () {
	source ~/.dotfiles/.profile
	echo 'Done sourcing custom dotfiles' 
}

# Set git user 
c:gituser () {
	[[ "$(git rev-parse --is-inside-work-tree 2>/dev/null)" != "true" ]] && echo "You are not in a git directory" && return;
	
	PS3="Which user do one want to set?"
	COLUMNS=1
	emails=(chielorenz@gmail.com llorenzini@wethod.com)

	select email in $emails
	do
		if [[ " ${emails[*]} " =~ " ${email} " ]]; then
			git config user.name "Luca Lorenzini"
  			git config user.email $email
			break
		else
			echo "Invalid option, try a number"
		fi
	done
	echo "Git user set $(git config user.email) ($(git config user.name)) on ${PWD}"
}
